import{d as f,p as y,s as v,i as _,j as k,k as b,c as i,o as n,a as t,e as h,f as w,n as T,l,t as d,F as A,m as C}from"./index-DleebdEi.js";import{u as S,t as B}from"./tickets-CcuBBVQh.js";const D={class:"p-4 sm:p-6"},L={class:"mb-4"},N={key:0,class:"text-center p-8"},R={key:1,class:"bg-white shadow overflow-hidden sm:rounded-lg"},V={class:"px-4 py-5 sm:px-6"},F={class:"mt-1 max-w-2xl text-sm text-gray-500"},I={class:"border-t border-gray-200"},j={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},E={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},M={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},U={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},q={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},z={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},G={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},H={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},J={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},K={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},O=["value","selected"],P={key:2,class:"text-center p-8"},Y=f({__name:"TicketView",setup(Q){const g=y(),m=Number(g.params.id),o=S(),{supportAgents:c,loading:p}=v(o);_(()=>{o.tickets.length===0&&o.fetchTickets(),c.value.length===0&&o.fetchAgents()});const e=k(()=>o.tickets.find(a=>a.id===m)),u=a=>{const s=a.target.value;o.assignAgent(m,s)};return(a,s)=>{const x=b("RouterLink");return n(),i("div",D,[t("div",L,[h(x,{to:{name:"home"},class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:w(()=>[...s[0]||(s[0]=[T(" â† Back to all tickets ",-1)])]),_:1})]),l(p)&&!e.value?(n(),i("div",N,[...s[1]||(s[1]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Loading ticket...",-1)])])):e.value?(n(),i("div",R,[t("div",V,[s[2]||(s[2]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Ticket Details",-1)),t("p",F," Information about ticket #"+d(e.value.id),1)]),t("div",I,[t("dl",null,[t("div",j,[s[3]||(s[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Title",-1)),t("dd",E,d(e.value.title),1)]),t("div",M,[s[4]||(s[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("dd",U,d(e.value.description),1)]),t("div",q,[s[5]||(s[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Created At",-1)),t("dd",z,d(l(B)(e.value.createdAt)),1)]),t("div",G,[s[6]||(s[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",H,d(e.value.status),1)]),t("div",J,[s[8]||(s[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Agent",-1)),t("dd",K,[t("select",{onChange:u,class:"mt-1 block w-full pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[s[7]||(s[7]=t("option",{value:void 0},"Unassigned",-1)),(n(!0),i(A,null,C(l(c),r=>(n(),i("option",{key:r,value:r,selected:e.value.agent===r},d(r),9,O))),128))],32)])])])])])):(n(),i("div",P,[...s[9]||(s[9]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Ticket not found",-1),t("p",{class:"text-gray-500"},"The ticket you are looking for does not exist.",-1)])]))])}}});export{Y as default};
