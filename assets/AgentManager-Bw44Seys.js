import{d as x,s as f,r as y,i as v,j as h,c as a,o as r,a as t,w as b,b as w,v as _,l as k,F as A,m as T,t as c}from"./index-CcfGfNso.js";import{u as C}from"./tickets-DicU9jUm.js";const M={class:"p-4 sm:p-6"},S={class:"mb-4"},B={class:"flex items-center"},N={key:0,class:"text-center p-8"},D={key:1,class:"shadow overflow-x-auto border-b border-gray-200 sm:rounded-lg"},F={class:"min-w-full divide-y divide-gray-200"},L={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},V={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},j={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},E=["onClick","disabled"],z=x({__name:"AgentManager",setup(U){const o=C(),{tickets:d,supportAgents:l,loading:u}=f(o),n=y("");v(()=>{l.value.length===0&&o.fetchAgents(),d.value.length===0&&o.fetchTickets()});const p=()=>{n.value.trim()&&(o.addAgent(n.value.trim()),n.value="")},g=i=>{o.removeAgent(i)},m=h(()=>l.value.map(i=>{const e=d.value.filter(s=>s.agent===i).length;return{agent:i,count:e}}));return(i,e)=>(r(),a("div",M,[e[4]||(e[4]=t("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Agent Management",-1)),t("div",S,[t("form",{onSubmit:b(p,["prevent"])},[t("div",B,[w(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),placeholder:"Agent Name",class:"block w-full rounded-md border-gray-300 pl-2 py-1 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 bg-white"},null,512),[[_,n.value]]),e[1]||(e[1]=t("button",{type:"submit",class:"ml-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 whitespace-nowrap"}," Add Agent ",-1))])],32)]),k(u)?(r(),a("div",N,[...e[2]||(e[2]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Loading agents...",-1)])])):(r(),a("div",D,[t("table",F,[e[3]||(e[3]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Agent "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Ticket Count "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",L,[(r(!0),a(A,null,T(m.value,s=>(r(),a("tr",{key:s.agent},[t("td",R,c(s.agent),1),t("td",V,c(s.count),1),t("td",j,[t("button",{onClick:W=>g(s.agent),disabled:s.count>0,class:"text-red-600 hover:text-red-900 disabled:text-gray-400 disabled"}," Remove ",8,E)])]))),128))])])]))]))}});export{z as default};
