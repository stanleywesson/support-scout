import{d as _,q as k,s as b,l as h,m as w,n as T,c as i,o as d,a as t,g as A,h as C,p as S,u as l,t as a,F as g,f as u}from"./index-ywpcxkc4.js";import{u as B,t as D,p as L}from"./tickets-DuiWy3BW.js";const N={class:"p-4 sm:p-6"},R={class:"mb-4"},V={key:0,class:"text-center p-8"},P={key:1,class:"bg-white shadow overflow-hidden sm:rounded-lg"},F={class:"px-4 py-5 sm:px-6"},I={class:"mt-1 max-w-2xl text-sm text-gray-500"},q={class:"border-t border-gray-200"},E={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},M={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},U={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},j={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},z={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},G={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},H={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},J={class:"mt-1 pl-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},K={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},O={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Q=["value","selected"],W={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},X={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Y=["value","selected"],Z={key:2,class:"text-center p-8"},et=_({__name:"TicketView",setup($){const p=k(),m=Number(p.params.id),n=B(),{supportAgents:c,loading:x}=b(n);h(()=>{n.tickets.length===0&&n.fetchTickets(),c.value.length===0&&n.fetchAgents()});const e=w(()=>n.tickets.find(r=>r.id===m)),y=r=>{const s=r.target.value;n.assignAgent(m,s)},f=r=>{const s=r.target.value;n.updateTicketPriority(m,s)};return(r,s)=>{const v=T("RouterLink");return d(),i("div",N,[t("div",R,[A(v,{to:{name:"home"},class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:C(()=>[...s[0]||(s[0]=[S(" ← Back to all tickets ",-1)])]),_:1})]),l(x)&&!e.value?(d(),i("div",V,[...s[1]||(s[1]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Loading ticket...",-1)])])):e.value?(d(),i("div",P,[t("div",F,[s[2]||(s[2]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Ticket Details",-1)),t("p",I," Information about ticket #"+a(e.value.id),1)]),t("div",q,[t("dl",null,[t("div",E,[s[3]||(s[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Title",-1)),t("dd",M,a(e.value.title),1)]),t("div",U,[s[4]||(s[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("dd",j,a(e.value.description),1)]),t("div",z,[s[5]||(s[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Created At",-1)),t("dd",G,a(l(D)(e.value.createdAt)),1)]),t("div",H,[s[6]||(s[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",J,a(e.value.status),1)]),t("div",K,[s[7]||(s[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Priority",-1)),t("dd",O,[t("select",{onChange:f,class:"mt-1 block w-full pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[(d(!0),i(g,null,u(l(L),o=>(d(),i("option",{key:o,value:o,selected:e.value.priority===o},a(o),9,Q))),128))],32)])]),t("div",W,[s[9]||(s[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Agent",-1)),t("dd",X,[t("select",{onChange:y,class:"mt-1 block w-full pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[s[8]||(s[8]=t("option",{value:void 0},"Unassigned",-1)),(d(!0),i(g,null,u(l(c),o=>(d(),i("option",{key:o,value:o,selected:e.value.agent===o},a(o),9,Y))),128))],32)])])])])])):(d(),i("div",Z,[...s[10]||(s[10]=[t("h2",{class:"text-2xl font-bold text-gray-800"},"Ticket not found",-1),t("p",{class:"text-gray-500"},"The ticket you are looking for does not exist.",-1)])]))])}}});export{et as default};
