import{u as V,s as F}from"./tickets-BA5W_zGQ.js";import{d as h,r as b,c as s,o,w as B,a as e,b as _,v as C,F as w,e as x,T as $,f as v,g as m,h as L,u as R,s as U,i as A,j as z,t as g,k as N,l as O,m as S}from"./index-BaONu4XY.js";const E={class:"mb-2"},G={class:"mb-2"},H=h({__name:"AddTicketForm",emits:["ticket-added"],setup(l,{emit:p}){const u=p,d=V(),r=b(""),a=b("");function y(){r.value&&a.value&&(d.addTicket({title:r.value,description:a.value,status:"Open"}),r.value="",a.value="",u("ticket-added"))}return(k,i)=>(o(),s("form",{onSubmit:B(y,["prevent"])},[i[4]||(i[4]=e("h3",{class:"text-lg font-bold mb-2"},"Add New Ticket",-1)),e("div",E,[i[2]||(i[2]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1)),_(e("input",{type:"text",id:"title","onUpdate:modelValue":i[0]||(i[0]=f=>r.value=f),class:"mt-1 block w-full rounded-md border-gray-300 pl-2 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[C,r.value]])]),e("div",G,[i[3]||(i[3]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),_(e("textarea",{id:"description","onUpdate:modelValue":i[1]||(i[1]=f=>a.value=f),rows:"3",class:"mt-1 pl-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[C,a.value]])]),i[5]||(i[5]=e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Add Ticket ",-1))],32))}}),q={class:"bg-white rounded-lg shadow-xl w-full max-w-lg"},I={class:"p-6"},J=h({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:p}){const u=p;return(d,r)=>(o(),s(w,null,[x($,{name:"fade"},{default:v(()=>[l.show?(o(),s("div",{key:0,class:"fixed inset-0 z-40 bg-gray-900 bg-opacity-75",onClick:r[0]||(r[0]=a=>u("close"))})):m("",!0)]),_:1}),x($,{name:"fade"},{default:v(()=>[l.show?(o(),s("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:r[1]||(r[1]=B(a=>u("close"),["self"]))},[e("div",q,[e("div",I,[L(d.$slots,"default")])])])):m("",!0)]),_:3})],64))}}),K={class:"p-4 sm:p-6"},P={class:"flex items-center justify-between mb-4"},Q={class:"text-2xl font-bold text-gray-800"},W={key:0,class:"shadow overflow-x-auto border-b border-gray-200 sm:rounded-lg"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-gray-50"},Z={key:0,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ee={class:"bg-white divide-y divide-gray-200"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"hidden md:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-500"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ie={class:"px-6 py-4 whitespace-nowrap"},ne=["onChange"],re=["value","selected"],de={key:0,class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ae=["onClick"],le={key:1,class:"text-center border-2 border-dashed border-gray-300 rounded-lg p-12"},ue={class:"mt-6"},me=h({__name:"HomeView",props:{filter:{}},setup(l){const p=R(),u=l,d=b(!1),r=V(),{activeTickets:a,archivedTickets:y}=U(r),{updateTicketStatus:k,archiveTicket:i}=r,f=A(()=>u.filter==="archive"?y.value:a.value),D=A(()=>u.filter==="archive"?"Archived Tickets":"Active Tickets");function M(T){i(T),p.success("Ticket archived successfully")}return(T,t)=>{const j=z("RouterLink");return o(),s("div",K,[e("div",P,[e("h2",Q,g(D.value),1),l.filter==="active"?(o(),s("button",{key:0,onClick:t[0]||(t[0]=n=>d.value=!0),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Add New Ticket ")):m("",!0)]),f.value.length>0?(o(),s("div",W,[e("table",X,[e("thead",Y,[e("tr",null,[t[4]||(t[4]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title ",-1)),t[5]||(t[5]=e("th",{scope:"col",class:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description",-1)),t[6]||(t[6]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Agent ",-1)),t[7]||(t[7]=e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status",-1)),l.filter==="active"?(o(),s("th",Z," Actions ")):m("",!0)])]),e("tbody",ee,[(o(!0),s(w,null,N(f.value,n=>(o(),s("tr",{key:n.id,class:"hover:bg-gray-50"},[e("td",te,[x(j,{to:{name:"ticket-detail",params:{id:n.id}},class:"text-sm font-medium text-blue-600 hover:text-blue-800"},{default:v(()=>[O(g(n.title),1)]),_:2},1032,["to"])]),e("td",se,g(n.description),1),e("td",oe,g(n.agent??"Unassigned"),1),e("td",ie,[e("select",{onChange:c=>S(k)(n.id,c.target.value),class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[(o(!0),s(w,null,N(S(F),c=>(o(),s("option",{key:c,value:c,selected:c===n.status},g(c),9,re))),128))],40,ne)]),l.filter==="active"?(o(),s("td",de,[n.status==="Closed"&&!n.isArchived?(o(),s("button",{key:0,onClick:c=>M(n.id),class:"text-indigo-600 hover:text-indigo-900"}," Archive ",8,ae)):m("",!0)])):m("",!0)]))),128))])])])):(o(),s("div",le,[t[8]||(t[8]=e("h3",{class:"text-xl font-medium text-gray-900"},"No tickets yet",-1)),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new ticket.",-1)),e("div",ue,[e("button",{onClick:t[1]||(t[1]=n=>d.value=!0),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," + Add New Ticket ")])])),x(J,{show:d.value,onClose:t[3]||(t[3]=n=>d.value=!1)},{default:v(()=>[x(H,{onTicketAdded:t[2]||(t[2]=n=>d.value=!1)})]),_:1},8,["show"])])}}});export{me as default};
